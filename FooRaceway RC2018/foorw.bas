100 REM FOO RACEWAY110 REM120 REM BY JAMES MCCLANAHAN130 REM140 REM REV 0.1 - SKELETON PROGRAM FOR RETRO CHALLENGE APRIL 2018150 REM REV 0.2 - FIRST CUT FOR RETRO CHALLENGE APRIL 2018160 REM170 REM *** SET UP AND INITIALIZE180 CLEAR 100,15999190 CLS200 REM ROUTINE TO POKE ML CODE FROM LWASM210 READ A,B220 IF A=-1 THEN 280230 FOR C = A TO B240 READ D:POKE C,D250 NEXT C260 GOTO 210270 REM LEFT AND RIGHT TRACK MARKER280 L=ASC("<"):R=ASC(">")290 REM INITIAL CAR POSITION AND LIMITS300 P=16:P1=3:P2=25310 REM SPACE VALUE320 SP=96330 REM DRAW INITIAL TRACK340 FOR A=1 TO 24350 PRINT " ";CHR$(L);TAB(30);CHR$(R)360 REM TRACK MARKERS ALTERNATE VALUES370 I=L:L=R:R=I380 NEXT A390 REM INKEY VALUES FOR LEFT AND RIGHT400 L=126:R=124410 REM DIFFICULTY PARAMS (NOT FULLY IMPLEMENTED)420 K1=.2:K2=500430 O1=0:O2=0440 REM START THE GAME450 POKE 1025,L:POKE 1054,R460 IF O1<>0 THEN POKE O1,96470 REM DECIDE IF WE HAVE OBSTICAL AND REMOVE OLD ONE AFTER SCROLL480 O1=0490 IF RND(0)<K1 THEN O1=1025+RND(28)500 IF O1<>0 THEN POKE O1,99510 I=L:L=R:R=I520 REM SET CAR POSITION AND DRAW530 POKE 16032,159+P540 EXEC 16030550 M1=0:I$=INKEY$560 REM CHECK FOR LEFT OR RIGHT MOVEMENT570 IF I$="," AND P>P1 THEN M1=-1580 IF I$="." AND P<P2 THEN M1=1590 REM CHECK FOR COLLISION600 IF PEEK(1408+P)<>96 OR PEEK(1409+P)<>96 OR PEEK(1410+P)<>96 OR PEEK(1411+P)<>96 THEN GOTO 720610 P=P+M1620 REM SCROLL SCREEN DOWN630 EXEC 16000640 GOTO 450650 REM DATA STATEMENTS FROM LWASM FOLLOW660 DATA 16000,16024,142,5,224,16,142,6,0,166,162,43,6,166,130,167,164,32,2,48,31,140,4,0,34,239,57670 DATA 16030,16105,142,5,175,134,96,167,128,134,133,167,128,134,136,167,128,134,132,167,128,134,138680 DATA 167,128,134,96,167,128,48,136,26,167,128,134,143,167,128,134,129,167,128,134,130,167,128,134690 DATA 143,167,128,134,96,167,128,48,136,26,167,128,134,133,167700 DATA 128,134,128,167,128,167,128,134,138,167,128,134,96,167,128,57710 DATA -1,-1720 PRINT@447+P,"cRaSh!"730 FOR I=1 TO 2500:NEXT